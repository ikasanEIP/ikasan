<?xml version="1.0" encoding="UTF-8"?>
<!--
/*
 * $Id: ra.xml 16795 2009-04-24 13:30:53Z mitcje $
 * $URL: svn+ssh://svc-vcsp/architecture/ikasan/trunk/connector-sftpRar/src/main/rar/META-INF/ra.xml $
 *
 * ====================================================================
 * Ikasan Enterprise Integration Platform
 * Copyright (c) 2003-2008 Mizuho International plc. and individual contributors as indicated
 * by the @authors tag. See the copyright.txt in the distribution for a
 * full listing of individual contributors.
 *
 * This is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as
 * published by the Free Software Foundation; either version 2.1 of
 * the License, or (at your option) any later version.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this software; if not, write to the
 * Free Software Foundation Europe e.V. Talstrasse 110, 40217 Dusseldorf, Germany
 * or see the FSF site: http://www.fsfeurope.org/.
 * ====================================================================
 */
 -->
<connector xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
  http://java.sun.com/xml/ns/j2ee/connector_1_5.xsd" version="1.5">

  <display-name>SFTP Resource Adapter</display-name>
  <vendor-name></vendor-name>
  <eis-type></eis-type>
  <resourceadapter-version>1.0</resourceadapter-version>
  <resourceadapter>

    <resourceadapter-class>org.ikasan.connector.sftp.outbound.SFTPResourceAdapter</resourceadapter-class>

    <outbound-resourceadapter>
      <connection-definition>
        <managedconnectionfactory-class>org.ikasan.connector.sftp.outbound.SFTPManagedConnectionFactory</managedconnectionfactory-class>

        <!-- SFTP host we are connecting to -->
        <config-property>
          <config-property-name>RemoteHostname</config-property-name>
          <config-property-type>java.lang.String</config-property-type>
          <config-property-value>Default Remote Hostname</config-property-value>
        </config-property>

        <!-- SFTP port number we are connecting to -->
        <config-property>
          <config-property-name>RemotePort</config-property-name>
          <config-property-type>java.lang.Integer</config-property-type>
          <config-property-value>22</config-property-value>
        </config-property>

        <config-property>
          <config-property-name>LocalHostname</config-property-name>
          <config-property-type>java.lang.String</config-property-type>
          <config-property-value>${ikasan.connector.local.host.name}</config-property-value>
        </config-property>

        <!-- SFTP KnownHostsFilename we are connecting with -->
        <config-property>
          <config-property-name>KnownHostsFilename</config-property-name>
          <config-property-type>java.lang.String</config-property-type>
          <config-property-value>Default Known Hosts File Name</config-property-value>
        </config-property>

        <!-- SFTP privateKeyFilename we are connecting with -->
        <config-property>
          <config-property-name>PrivateKeyFilename</config-property-name>
          <config-property-type>java.lang.String</config-property-type>
          <config-property-value>Default Private Key File Name</config-property-value>
        </config-property>

        <!-- SFTP username we are connecting with -->
        <config-property>
          <config-property-name>Username</config-property-name>
          <config-property-type>java.lang.String</config-property-type>
          <config-property-value>Default Username</config-property-value>
        </config-property>

        <!-- SFTP client Id we are connecting with -->
        <config-property>
          <config-property-name>ClientID</config-property-name>
          <config-property-type>java.lang.String</config-property-type>
          <config-property-value>Default ClientID</config-property-value>
        </config-property>

        <connectionfactory-interface>javax.resource.cci.ConnectionFactory</connectionfactory-interface>
        <connectionfactory-impl-class>org.ikasan.connector.sftp.outbound.SFTPConnectionFactory</connectionfactory-impl-class>
        <connection-interface>javax.resource.cci.Connection</connection-interface>
	    <connection-impl-class>org.ikasan.connector.sftp.outbound.SFTPConnectionImpl</connection-impl-class>
      </connection-definition>

      <!-- We are using XATRansaction -->
      <transaction-support>XATransaction</transaction-support>
      <reauthentication-support>false</reauthentication-support>
    </outbound-resourceadapter>
  </resourceadapter>

</connector>
