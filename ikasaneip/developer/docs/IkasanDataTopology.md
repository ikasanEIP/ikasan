![Problem Domain](quickstart-images/Ikasan-title-transparent.png)

# Introduction
Ikasan's data can be considered as follows:
* Long lived data that provides features to the platform such as security and module control.
* Long lived data that provides features that enable to platform to describe itself.
* Long lived data that provides configuration parameters for Ikasan components.
* Transient data that is captured on the wire, by each module, as Ikasan modules perform their role as participants in the broader ESB topology.
* Aggregated long lived data captured on the wire, as Ikasan modules perform their role as participants in the broader ESB topology, indexed and available for fast contextual searching.
* Solr documents that represent data entities used by both the Ikasan Enterprise Service Bus and Ikasan Enterprise Scheduler.

## General Ikasan Data
The following data entities are shared between the H2 databases in both the Dashboard and Module domain and serve features in isolation of 
the domain within which they reside. For the most part they facilitate the security features for the domain in which they reside. 

| Data Entity          | H2 Module          | H2 Dashboard       | Solr       | Is Transient | Comments                                                                                                                                                                                                                                                                                                        |
|----------------------|--------------------|--------------------|------------|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| AuthenticationMethod | :no_entry:         | :white_check_mark: | :no_entry: | :no_entry:   | Used to provide details of any LDAP servers that the Ikasan Dashboard connects to.                                                                                                                                                                                                                              |
| Authorities          | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the legacy Ikasan security model and is redundant.                                                                                                                                                                                                                                                      |
| PolicyLink           | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the Ikasan security model. When a module is running in standalone mode the module will use its local H2 database to source the security data. When running in enterprise mode the security is performed via rest services exposed by the Ikasan Dashboard against LDAP and the dashboard's H2 database. |
| PolicyLinkType       | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the Ikasan security model. When a module is running in standalone mode the module will use its local H2 database to source the security data. When running in enterprise mode the security is performed via rest services exposed by the Ikasan Dashboard against LDAP and the dashboard's H2 database. |
| PrincipalRole        | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the Ikasan security model. When a module is running in standalone mode the module will use its local H2 database to source the security data. When running in enterprise mode the security is performed via rest services exposed by the Ikasan Dashboard against LDAP and the dashboard's H2 database. |
| RolePolicy           | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the Ikasan security model. When a module is running in standalone mode the module will use its local H2 database to source the security data. When running in enterprise mode the security is performed via rest services exposed by the Ikasan Dashboard against LDAP and the dashboard's H2 database. |
| SecurityPolicy       | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the Ikasan security model. When a module is running in standalone mode the module will use its local H2 database to source the security data. When running in enterprise mode the security is performed via rest services exposed by the Ikasan Dashboard against LDAP and the dashboard's H2 database. |
| SecurityPrincipal    | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the Ikasan security model. When a module is running in standalone mode the module will use its local H2 database to source the security data. When running in enterprise mode the security is performed via rest services exposed by the Ikasan Dashboard against LDAP and the dashboard's H2 database. |
| SecurityRole         | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the Ikasan security model. When a module is running in standalone mode the module will use its local H2 database to source the security data. When running in enterprise mode the security is performed via rest services exposed by the Ikasan Dashboard against LDAP and the dashboard's H2 database. |
| SystemEvent          | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the Ikasan security model. When a module is running in standalone mode the module will use its local H2 database to source the security data. When running in enterprise mode the security is performed via rest services exposed by the Ikasan Dashboard against LDAP and the dashboard's H2 database. |
| UserPrincipal        | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the Ikasan security model. When a module is running in standalone mode the module will use its local H2 database to source the security data. When running in enterprise mode the security is performed via rest services exposed by the Ikasan Dashboard against LDAP and the dashboard's H2 database. |
| Users                | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the Ikasan security model. When a module is running in standalone mode the module will use its local H2 database to source the security data. When running in enterprise mode the security is performed via rest services exposed by the Ikasan Dashboard against LDAP and the dashboard's H2 database. |
| UsersAuthorities     | :white_check_mark: | :white_check_mark: | :no_entry: | :no_entry:   | Part of the legacy Ikasan security model and is redundant.                                                                                                                                                                                                                                                      |

## Ikasan Enterprise Service Bus Data
The following data entities represent the entities required for Ikasan to fulfil it's role and an Enterprise Service Bus.

| Data Entity                    | H2 Module          | H2 Dashboard       | Solr               | Is Transient       | Comments                                                                                                                                                                                                                             |
|--------------------------------|--------------------|--------------------|--------------------|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Configuration                  | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ConfigurationParameter         | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ConfParamBoolean               | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ConfParamInteger               | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ConfParamList                  | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ConfParamListString            | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ConfParamLong                  | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ConfParamMap                   | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ConfParamMapString             | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ConfParamMaskedString          | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ConfParamString                | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and finds it's way into Solr as part of a ConfigurationMetaData document.                                                                                                                       |
| ErrorOccurrence                | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database where the data is transient. The data is harvested and pushed to the Solr index where it can be contextually searched.                                                                          |
| ExclusionEvent                 | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database where the data is transient. The data is harvested and pushed to the Solr index where it can be contextually searched.                                                                          |
| ExclusionEventAction           | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database where the data is transient. The data is harvested and pushed to the Solr index where it can be contextually searched.                                                                          |
| FlowEventTrigger               | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Part of Ikasan's wiretap framework.                                                                                                                                                                                                  |
| FlowEventTriggerParameters     | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Part of Ikasan's wiretap framework.                                                                                                                                                                                                  |
| FlowInvocation                 | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Part of the Ikasan metrics framework. Authored in the module's H2 database where the data is transient. The data is harvested and pushed to the Solr index where it can be contextually searched and read via exposed REST services. |
| FTChecksumCommand              | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by a module if they employ the use of FTP or SFTP endpoints.                                                                                                                                                                    |
| FTCleanupChunksCommand         | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by a module if they employ the use of FTP or SFTP endpoints.                                                                                                                                                                    |
| FTDeliverBatchCommand          | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by a module if they employ the use of FTP or SFTP endpoints.                                                                                                                                                                    |
| FTDeliverFileCommand           | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by a module if they employ the use of FTP or SFTP endpoints.                                                                                                                                                                    |
| FTFileChunk                    | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by a module if they employ the use of FTP or SFTP endpoints.                                                                                                                                                                    |
| FTFileChunkHeader              | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by a module if they employ the use of FTP or SFTP endpoints.                                                                                                                                                                    |
| FTFileFilter                   | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by a module if they employ the use of FTP or SFTP endpoints.                                                                                                                                                                    |
| FTRetrieveFileCommand          | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by a module if they employ the use of FTP or SFTP endpoints.                                                                                                                                                                    |
| FTTransactionalResourceCommand | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by a module if they employ the use of FTP or SFTP endpoints.                                                                                                                                                                    |
| FTXid                          | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by a module if they employ the use of FTP or SFTP endpoints.                                                                                                                                                                    |
| IkasanWiretap                  | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database where the data is transient. The data is harvested and pushed to the Solr index where it can be contextually searched.                                                                          |
| MessageFilter                  | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Used by Ikasan's filtering components to allow for persistent message filtering.                                                                                                                                                     |
| MessageHistory                 | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Part of the Ikasan metrics framework. Authored in the module's H2 database where the data is transient. The data is harvested and pushed to the Solr index where it can be contextually searched and read via exposed REST services. |
| Metric                         | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Part of the Ikasan metrics framework. Authored in the module's H2 database where the data is transient. The data is harvested and pushed to the Solr index where it can be contextually searched and read via exposed REST services. |
| MetricEvent                    | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Part of the Ikasan metrics framework. Authored in the module's H2 database where the data is transient. The data is harvested and pushed to the Solr index where it can be contextually searched and read via exposed REST services. |
| ReplayAudit                    | :no_entry:         | :no_entry:         | :white_check_mark: | :no_entry:         | Part of the Ikasan Replay Service. Written to Solr via the Ikasan Dashboard when replay events are processed through a module.                                                                                                       |
| ReplayAuditEvent               | :no_entry:         | :no_entry:         | :white_check_mark: | :no_entry:         | Part of the Ikasan Replay Service. Written to Solr via the Ikasan Dashboard when replay events are processed through a module.                                                                                                       |
| ReplayEvent                    | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Part of the Ikasan Replay Service. Authored in the module's H2 database where the data is transient. The data is harvested and pushed to the Solr index where it can be contextually searched.                                       |
| RoleModule                     | :no_entry:         | :white_check_mark: | :no_entry:         | :no_entry:         | Used by the Ikasan security module to associate a module with an Ikasan role. Only relevant in the Dashboard's H2 database.                                                                                                          |
| StartupControl                 | :white_check_mark: | :no_entry:         | :no_entry:         | :no_entry:         | Determines whether an Ikasan flow should start manually or automatically when a module is restarted.                                                                                                                                 |
| SystemEvent                    | :white_check_mark: | :white_check_mark: | :white_check_mark: | :white_check_mark: | Authored in the module's H2 database and dashboard's H2 database where the data is transient. The data is harvested and pushed to the Solr index where it can be contextually searched.                                              |
| BusinessStreamMetaData         | :no_entry:         | :no_entry:         | :white_check_mark: | :no_entry:         | Stored as a Solr document to describe the interrelationship between modules and flows and how they form business streams.                                                                                                            |
| ConfigurationMetaData          | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Represents Ikasan configuration as a Solr document. Authored in an Ikasan module and published to Solr as a document, either when a configuration is updated, or as part of the module's shutdwon/startup lifecycle.                 |
| ModuleMetaData                 | :white_check_mark: | :no_entry:         | :white_check_mark: | :white_check_mark: | Represents the meta model used to describe an Ikasan module represented as a Solr document. Authored in an Ikasan module and published to Solr as a document as part of the module's shutdwon/startup lifecycle.                     |

## Ikasan Enterprise Scheduler Data
The following data entities represent the entities required for Ikasan to fulfil it's role and an Enterprise Scheduler. All
data entities are stored in Solr as documents.

| Data Entity                            | H2 Module  | H2 Dashboard | Solr               | Transient  | Comments |
|----------------------------------------|------------|--------------|--------------------|------------|---------|
| ScheduledContext                       | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| ScheduledContextView                   | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| ScheduledProcessEvent                  | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| ScheduledContextInstance               | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| ScheduledJobInstance                   | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| ScheduledContextInstanceAudit          | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| ScheduledContextInstanceAuditAggregate | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| ContextStartJob                        | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| ContextTerminalJob                     | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| FileEventDrivenJob                     | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| GlobalEventDrivenJob                   | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| InternalEventDrivenJob                 | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| QuartzScheduleDrivenJob                | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| SchedulerJob                           | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| JobLockCache                           | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| JobLockCacheAudit                      | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| EmailNotificationContext               | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| EmailNotificationDetails               | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| EmailNotificationSendAudit             | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
| ContextProfile                         | :no_entry: | :no_entry:   | :white_check_mark: | :no_entry: |         |
